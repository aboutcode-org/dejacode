{% load i18n %}
{% load humanize %}
<section id="components_section">
  {% if results.object_list %}
    <h3>
      {% trans 'Component' %}
      {% if is_reference_data %}
        <span class="badge text-bg-warning">{% trans 'Reference Data' %}</span>
      {% endif %}
      <small class="text-muted">
        {{ results.paginator_count|intcomma }} result{{ results.paginator_count|pluralize }} for this search.
        {% if is_reference_data %}
          Click <a href="{% url 'component_catalog:component_list' reference_dataspace %}?q={{ search_query }}">here</a> to see the full list.
        {% else %}
          Click <a href="{% url 'component_catalog:component_list' %}?q={{ search_query }}">here</a> to see the full list.
        {% endif %}
      </small>
    </h3>
    <table class="table table-bordered table-striped table-md">
      <thead>
        <tr>
          <th>Name</th>
          <th>Version</th>
          <th>License</th>
          <th>Language</th>
          <th>Owner</th>
        </tr>
      </thead>
      <tbody>
        {% for object in results.object_list|slice:':20' %}
          <tr>
            <td><a href="{{ object.details_url }}"><strong>{{ object.name }}</strong></a></td>
            <td>{{ object.version|default_if_none:"" }}</td>
            <td>{{ object.license_expression_linked|default_if_none:"" }}</td>
            <td>{{ object.primary_language|default_if_none:"" }}</td>
            <td>{% if object.owner %}<a href="{{ object.details_url }}#owner">{{ object.owner }}</a>{% endif %}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <h3>{% trans 'Component' %} <small class="text-muted">No components found.</small></h3>
  {% endif %}
</section>